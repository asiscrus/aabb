function e(e,t,i,n){Object.defineProperty(e,t,{get:i,set:n,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},n={},o=t.parcelRequire97db;null==o&&((o=function(e){if(e in i)return i[e].exports;if(e in n){var t=n[e];delete n[e];var o={id:e,exports:{}};return i[e]=o,t.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},t.parcelRequire97db=o);var r={},s=r&&r.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),o.register("cbUef",(function(e,t){var i=e.exports&&e.exports.__awaiter||function(e,t,i,n){return new(i||(i=Promise))((function(o,r){function s(e){try{u(n.next(e))}catch(e){r(e)}}function a(e){try{u(n.throw(e))}catch(e){r(e)}}function u(e){e.done?o(e.value):new i((function(t){t(e.value)})).then(s,a)}u((n=n.apply(e,t||[])).next())}))},n=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0});const r=n(o("astN0")),s=n(o("c8C5G"));e.exports.default=class{constructor({email:e,password:t}){this.email=e,this.password=t}getSessionId(){return i(this,void 0,void 0,(function*(){if(!this.session){this.getLoginDataPromise=this.getLoginDataPromise||this.login();const e=yield this.getLoginDataPromise;this.session=this.session||e.session}return this.session}))}makeApiCall(e,t){return i(this,void 0,void 0,(function*(){const i=`https://www.myfxbook.com/api/${e}.json?${s.default.stringify(t)}`,n=yield r.default(i,{method:"post"}),o=yield n.text();let a,u=!1,d="";try{a=JSON.parse(o),a.error&&(u=!0,d=a.message)}catch(t){u=!0,d=`${`${e} error: ${JSON.stringify(t)}`}. ${`Original response: ${JSON.stringify(o)}`}`}if(u)throw new Error(d);return a}))}login(){return i(this,void 0,void 0,(function*(){return this.makeApiCall("login",{email:this.email,password:this.password})}))}logout(){return i(this,void 0,void 0,(function*(){return this.makeApiCall("logout",{session:yield this.getSessionId()})}))}getMyAccounts(){return i(this,void 0,void 0,(function*(){return this.makeApiCall("get-my-accounts",{session:yield this.getSessionId()})}))}getWatchedAccounts(){return i(this,void 0,void 0,(function*(){return this.makeApiCall("get-watched-accounts",{session:yield this.getSessionId()})}))}getOpenOrders(e){return i(this,void 0,void 0,(function*(){return this.makeApiCall("get-open-orders",{session:yield this.getSessionId(),id:String(e)})}))}getOpenTrades(e){return i(this,void 0,void 0,(function*(){return this.makeApiCall("get-open-trades",{session:yield this.getSessionId(),id:String(e)})}))}getHistory(e){return i(this,void 0,void 0,(function*(){return this.makeApiCall("get-history",{session:yield this.getSessionId(),id:String(e)})}))}getDailyGain(e,t,n){return i(this,void 0,void 0,(function*(){return this.makeApiCall("get-daily-gain",{session:yield this.getSessionId(),id:String(e),start:t,end:n})}))}getGain(e,t,n){return i(this,void 0,void 0,(function*(){return this.makeApiCall("get-gain",{session:yield this.getSessionId(),id:String(e),start:t,end:n})}))}getCommunityOutlook(){return i(this,void 0,void 0,(function*(){return this.makeApiCall("get-community-outlook",{session:yield this.getSessionId()})}))}getCommunityOutlookByCountry(e){return i(this,void 0,void 0,(function*(){return this.makeApiCall("get-community-outlook-by-country",{session:yield this.getSessionId(),symbol:e})}))}getDailyData(e,t,n){return i(this,void 0,void 0,(function*(){return this.makeApiCall("get-data-daily",{session:yield this.getSessionId(),id:String(e),start:t,end:n})}))}}})),o.register("astN0",(function(e,t){var i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==i)return i;throw new Error("unable to locate global object")}();e.exports=t=i.fetch,i.fetch&&(t.default=i.fetch.bind(i)),t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response})),o.register("c8C5G",(function(t,i){var n,r,s,a;e(t.exports,"decode",(()=>n),(e=>n=e)),e(t.exports,"parse",(()=>r),(e=>r=e)),e(t.exports,"encode",(()=>s),(e=>s=e)),e(t.exports,"stringify",(()=>a),(e=>a=e)),n=r=o("kTf2W"),s=a=o("8vc0r")})),o.register("kTf2W",(function(e,t){function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,o,r){t=t||"&",o=o||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var u=1e3;r&&"number"==typeof r.maxKeys&&(u=r.maxKeys);var d=e.length;u>0&&d>u&&(d=u);for(var l=0;l<d;++l){var c,f,p,g,h=e[l].replace(a,"%20"),y=h.indexOf(o);y>=0?(c=h.substr(0,y),f=h.substr(y+1)):(c=h,f=""),p=decodeURIComponent(c),g=decodeURIComponent(f),i(s,p)?n(s[p])?s[p].push(g):s[p]=[s[p],g]:s[p]=g}return s};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}})),o.register("8vc0r",(function(e,t){var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,s,a){return t=t||"&",s=s||"=",null===e&&(e=void 0),"object"==typeof e?o(r(e),(function(r){var a=encodeURIComponent(i(r))+s;return n(e[r])?o(e[r],(function(e){return a+encodeURIComponent(i(e))})).join(t):a+encodeURIComponent(i(e[r]))})).join(t):a?encodeURIComponent(i(a))+s+encodeURIComponent(i(e)):""};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var i=[],n=0;n<e.length;n++)i.push(t(e[n],n));return i}var r=Object.keys||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t}}));const a=s(o("cbUef"));r.MyfxbookApi=a.default;new(0,r.MyfxbookApi)({email:"asiscrus.muratyazici@gmail.com",password:"53575357My"}).getDailyGain(9315996,"2021-11-10","2021-12-02").then((e=>{console.log(e.dailyGain)})).catch((e=>{console.log("error",e)}));
//# sourceMappingURL=index.93855ddb.js.map
